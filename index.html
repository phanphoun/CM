<!DOCTYPE html>
<html lang="km">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khmer Math - គណិតវិទ្យាខ្មែរ</title>
    <meta name="description" content="Learn mathematics in Khmer language for grades 7-12 with interactive exercises and progress tracking">
    
    <!-- Compiled CSS from Sass -->
    <style>
/*
===========================================
SASS FILE STRUCTURE AND COMPILATION
===========================================

src/scss/
├── _variables.scss    // Color palette, typography, breakpoints
├── _mixins.scss       // Media queries, flex/grid utilities
├── _grid.scss         // 12-column responsive grid system
├── _components.scss   // Reusable component styles
└── main.scss          // Main import file

Build Command: sass --watch src/scss:dist/css --style compressed

===========================================
_variables.scss - Design System Variables
===========================================
*/

:root {
  /* Khmer Education Brand Colors - WCAG AA Compliant */
  --color-primary: #1e40af;        /* Deep blue - traditional education */
  --color-secondary: #dc2626;      /* Khmer red - cultural significance */
  --color-accent: #059669;         /* Success green - achievement */
  --color-warning: #d97706;        /* Orange - attention/warning */
  --color-info: #0891b2;          /* Cyan - information */
  
  /* Neutral Color Palette */
  --color-text-primary: #1f2937;   /* Dark gray - main text */
  --color-text-secondary: #6b7280; /* Medium gray - secondary text */
  --color-text-light: #9ca3af;     /* Light gray - muted text */
  --color-background: #ffffff;     /* White - main background */
  --color-background-alt: #f9fafb; /* Light gray - alternate sections */
  --color-background-dark: #111827; /* Dark - footer/modal backgrounds */
  --color-border: #e5e7eb;         /* Light gray - borders */
  --color-border-dark: #374151;    /* Dark gray - dark theme borders */
  
  /* Gamification Colors */
  --color-gold: #f59e0b;           /* Gold badges */
  --color-silver: #6b7280;         /* Silver badges */
  --color-bronze: #92400e;         /* Bronze badges */
  
  /* Typography Scale - Responsive Design */
  --font-family-primary: 'Noto Sans Khmer', 'Segoe UI', Arial, sans-serif;
  --font-family-math: 'Computer Modern', 'Times New Roman', serif;
  --font-size-xs: 0.75rem;         /* 12px */
  --font-size-sm: 0.875rem;        /* 14px */
  --font-size-base: 1rem;          /* 16px */
  --font-size-lg: 1.125rem;        /* 18px */
  --font-size-xl: 1.25rem;         /* 20px */
  --font-size-2xl: 1.5rem;         /* 24px */
  --font-size-3xl: 1.875rem;       /* 30px */
  --font-size-4xl: 2.25rem;        /* 36px */
  --font-size-5xl: 3rem;           /* 48px */
  
  /* Spacing Scale - Consistent Rhythm */
  --spacing-xs: 0.25rem;   /* 4px */
  --spacing-sm: 0.5rem;    /* 8px */
  --spacing-md: 1rem;      /* 16px */
  --spacing-lg: 1.5rem;    /* 24px */
  --spacing-xl: 2rem;      /* 32px */
  --spacing-2xl: 3rem;     /* 48px */
  --spacing-3xl: 4rem;     /* 64px */
  
  /* Responsive Breakpoints */
  --breakpoint-sm: 640px;   /* Small tablets */
  --breakpoint-md: 768px;   /* Tablets */
  --breakpoint-lg: 1024px;  /* Desktop */
  --breakpoint-xl: 1280px;  /* Large desktop */
  
  /* Container Constraints */
  --container-max-width: 1200px;
  --container-padding: var(--spacing-md);
  
  /* Animation and Transitions */
  --transition-fast: 0.15s ease;
  --transition-base: 0.3s ease;
  --transition-slow: 0.5s ease;
  
  /* Z-index Scale */
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-modal: 1000;
  --z-notification: 1100;
}

/*
===========================================
_mixins.scss - Responsive and Utility Mixins
===========================================
*/

/*
Media Query Mixins - Mobile First Approach
Usage: @include respond(md) { ... }
*/

/*
Flexbox Utilities
Usage: @include flex-center; @include flex-between;
*/

/*
Grid Utilities  
Usage: @include grid-columns(3); @include grid-gap(md);
*/

/*
===========================================
_grid.scss - 12 Column Responsive Grid System
===========================================
*/

/* Base grid container with responsive padding */
.container {
  width: 100%;
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: 0 var(--container-padding);
}

@media (min-width: 640px) {
  .container {
    padding: 0 var(--spacing-lg);
  }
}

@media (min-width: 1024px) {
  .container {
    padding: 0 var(--spacing-xl);
  }
}

/* Flexbox-based grid system */
.grid {
  display: flex;
  flex-wrap: wrap;
  margin: 0 calc(var(--spacing-sm) * -1);
}

.grid--no-gutters {
  margin: 0;
}

.grid--no-gutters > .grid__col {
  padding: 0;
}

/* Grid columns with responsive modifiers */
.grid__col {
  flex: 1;
  padding: 0 var(--spacing-sm);
  margin-bottom: var(--spacing-md);
}

/* Mobile-first column widths */
.grid__col--12 { flex: 0 0 100%; }
.grid__col--11 { flex: 0 0 91.666%; }
.grid__col--10 { flex: 0 0 83.333%; }
.grid__col--9 { flex: 0 0 75%; }
.grid__col--8 { flex: 0 0 66.666%; }
.grid__col--7 { flex: 0 0 58.333%; }
.grid__col--6 { flex: 0 0 50%; }
.grid__col--5 { flex: 0 0 41.666%; }
.grid__col--4 { flex: 0 0 33.333%; }
.grid__col--3 { flex: 0 0 25%; }
.grid__col--2 { flex: 0 0 16.666%; }
.grid__col--1 { flex: 0 0 8.333%; }

/* Tablet responsive columns */
@media (min-width: 768px) {
  .grid__col--md-12 { flex: 0 0 100%; }
  .grid__col--md-11 { flex: 0 0 91.666%; }
  .grid__col--md-10 { flex: 0 0 83.333%; }
  .grid__col--md-9 { flex: 0 0 75%; }
  .grid__col--md-8 { flex: 0 0 66.666%; }
  .grid__col--md-7 { flex: 0 0 58.333%; }
  .grid__col--md-6 { flex: 0 0 50%; }
  .grid__col--md-5 { flex: 0 0 41.666%; }
  .grid__col--md-4 { flex: 0 0 33.333%; }
  .grid__col--md-3 { flex: 0 0 25%; }
  .grid__col--md-2 { flex: 0 0 16.666%; }
  .grid__col--md-1 { flex: 0 0 8.333%; }
}

/* Desktop responsive columns */
@media (min-width: 1024px) {
  .grid__col--lg-12 { flex: 0 0 100%; }
  .grid__col--lg-11 { flex: 0 0 91.666%; }
  .grid__col--lg-10 { flex: 0 0 83.333%; }
  .grid__col--lg-9 { flex: 0 0 75%; }
  .grid__col--lg-8 { flex: 0 0 66.666%; }
  .grid__col--lg-7 { flex: 0 0 58.333%; }
  .grid__col--lg-6 { flex: 0 0 50%; }
  .grid__col--lg-5 { flex: 0 0 41.666%; }
  .grid__col--lg-4 { flex: 0 0 33.333%; }
  .grid__col--lg-3 { flex: 0 0 25%; }
  .grid__col--lg-2 { flex: 0 0 16.666%; }
  .grid__col--lg-1 { flex: 0 0 8.333%; }
}

/*
===========================================
main.scss - Compiled Main Styles
===========================================
*/

/* CSS Reset and Base Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  font-size: 16px;
}

body {
  font-family: var(--font-family-primary);
  line-height: 1.6;
  color: var(--color-text-primary);
  background-color: var(--color-background);
}

/* Typography Hierarchy */
h1, h2, h3, h4, h5, h6 {
  font-weight: 700;
  line-height: 1.3;
  margin-bottom: var(--spacing-md);
  color: var(--color-text-primary);
}

h1 { font-size: var(--font-size-4xl); }
h2 { font-size: var(--font-size-3xl); }
h3 { font-size: var(--font-size-2xl); }
h4 { font-size: var(--font-size-xl); }
h5 { font-size: var(--font-size-lg); }
h6 { font-size: var(--font-size-base); }

@media (max-width: 767px) {
  h1 { font-size: var(--font-size-3xl); }
  h2 { font-size: var(--font-size-2xl); }
  h3 { font-size: var(--font-size-xl); }
}

p {
  margin-bottom: var(--spacing-md);
  color: var(--color-text-secondary);
}

a {
  color: var(--color-primary);
  text-decoration: none;
  transition: color var(--transition-fast);
}

a:hover, a:focus {
  color: var(--color-secondary);
  text-decoration: underline;
}

/* Header and Navigation - BEM Methodology */
.header {
  background-color: var(--color-background);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: var(--z-sticky);
}

.nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-md) 0;
}

.nav__brand {
  font-size: var(--font-size-2xl);
  font-weight: 700;
  color: var(--color-primary);
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.nav__brand-icon {
  width: 32px;
  height: 32px;
  background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: bold;
}

.nav__menu {
  display: flex;
  list-style: none;
  gap: var(--spacing-lg);
  align-items: center;
}

@media (max-width: 1023px) {
  .nav__menu {
    display: none;
  }
  
  .nav__mobile-toggle {
    display: block;
    background: none;
    border: none;
    font-size: var(--font-size-xl);
    color: var(--color-primary);
    cursor: pointer;
  }
}

@media (min-width: 1024px) {
  .nav__mobile-toggle {
    display: none;
  }
}

.nav__item {
  position: relative;
}

.nav__link {
  color: var(--color-text-primary);
  font-weight: 500;
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: 8px;
  transition: all var(--transition-base);
}

.nav__link:hover,
.nav__link:focus,
.nav__link--active {
  color: var(--color-primary);
  background-color: var(--color-background-alt);
  text-decoration: none;
}

/* Dropdown Menu Implementation */
.nav__dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  background-color: var(--color-background);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  border-radius: 8px;
  min-width: 200px;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all var(--transition-base);
  z-index: var(--z-dropdown);
}

.nav__item:hover .nav__dropdown,
.nav__item:focus-within .nav__dropdown {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.nav__dropdown-list {
  list-style: none;
  padding: var(--spacing-sm) 0;
}

.nav__dropdown-item {
  padding: 0;
}

.nav__dropdown-link {
  display: block;
  padding: var(--spacing-sm) var(--spacing-md);
  color: var(--color-text-primary);
  transition: background-color var(--transition-fast);
}

.nav__dropdown-link:hover,
.nav__dropdown-link:focus {
  background-color: var(--color-background-alt);
  text-decoration: none;
}

/* Authentication Buttons */
.nav__auth {
  display: flex;
  gap: var(--spacing-sm);
}

.btn {
  display: inline-block;
  padding: var(--spacing-sm) var(--spacing-lg);
  font-weight: 600;
  text-align: center;
  border-radius: 8px;
  border: 2px solid transparent;
  cursor: pointer;
  transition: all var(--transition-base);
  text-decoration: none;
  font-size: var(--font-size-sm);
}

.btn--primary {
  background-color: var(--color-primary);
  color: white;
  border-color: var(--color-primary);
}

.btn--primary:hover,
.btn--primary:focus {
  background-color: #1d4ed8;
  border-color: #1d4ed8;
  text-decoration: none;
  color: white;
}

.btn--outline {
  background-color: transparent;
  color: var(--color-primary);
  border-color: var(--color-primary);
}

.btn--outline:hover,
.btn--outline:focus {
  background-color: var(--color-primary);
  color: white;
  text-decoration: none;
}

.btn--secondary {
  background-color: var(--color-secondary);
  color: white;
  border-color: var(--color-secondary);
}

.btn--secondary:hover,
.btn--secondary:focus {
  background-color: #b91c1c;
  border-color: #b91c1c;
  text-decoration: none;
  color: white;
}

/* Main Content Area */
.main {
  margin-top: 80px; /* Account for fixed header */
  min-height: calc(100vh - 80px);
}

/* Hero Section */
.hero {
  background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
  color: white;
  padding: var(--spacing-3xl) 0;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.hero::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><polygon fill="white" fill-opacity="0.1" points="0,1000 1000,0 1000,1000"/></svg>');
  background-size: cover;
}

.hero__content {
  position: relative;
  z-index: 1;
}

.hero__title {
  font-size: var(--font-size-5xl);
  margin-bottom: var(--spacing-lg);
  font-weight: 800;
}

.hero__subtitle {
  font-size: var(--font-size-xl);
  margin-bottom: var(--spacing-2xl);
  opacity: 0.9;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
}

@media (max-width: 767px) {
  .hero__title {
    font-size: var(--font-size-3xl);
  }
  
  .hero__subtitle {
    font-size: var(--font-size-lg);
  }
}

.hero__cta {
  display: inline-block;
  background-color: white;
  color: var(--color-primary);
  padding: var(--spacing-lg) var(--spacing-2xl);
  font-size: var(--font-size-lg);
  font-weight: 700;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  transition: all var(--transition-base);
}

.hero__cta:hover,
.hero__cta:focus {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
  text-decoration: none;
  color: var(--color-primary);
}

/* Section Styling */
.section {
  padding: var(--spacing-3xl) 0;
}

.section--alt {
  background-color: var(--color-background-alt);
}

.section__title {
  text-align: center;
  margin-bottom: var(--spacing-2xl);
  color: var(--color-text-primary);
}

.section__subtitle {
  text-align: center;
  font-size: var(--font-size-lg);
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-2xl);
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}

/* Grade Cards */
.grades {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--spacing-lg);
  margin-top: var(--spacing-2xl);
}

.grade-card {
  background-color: var(--color-background);
  border-radius: 12px;
  padding: var(--spacing-xl);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  transition: all var(--transition-base);
  text-align: center;
  border: 2px solid transparent;
}

.grade-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  border-color: var(--color-primary);
}

.grade-card__number {
  font-size: var(--font-size-4xl);
  font-weight: 800;
  color: var(--color-primary);
  margin-bottom: var(--spacing-md);
}

.grade-card__title {
  font-size: var(--font-size-xl);
  margin-bottom: var(--spacing-md);
  color: var(--color-text-primary);
}

.grade-card__description {
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-lg);
}

/* Quiz Section */
.quiz {
  max-width: 800px;
  margin: 0 auto;
}

.quiz__question {
  background-color: var(--color-background);
  border-radius: 12px;
  padding: var(--spacing-xl);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  margin-bottom: var(--spacing-lg);
}

.quiz__question-title {
  font-size: var(--font-size-xl);
  margin-bottom: var(--spacing-lg);
  color: var(--color-text-primary);
}

.quiz__options {
  list-style: none;
}

.quiz__option {
  margin-bottom: var(--spacing-md);
}

.quiz__option-label {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-md);
  background-color: var(--color-background-alt);
  border-radius: 8px;
  cursor: pointer;
  transition: all var(--transition-base);
  border: 2px solid transparent;
}

.quiz__option-label:hover {
  background-color: var(--color-background);
  border-color: var(--color-primary);
}

.quiz__option-input {
  margin: 0;
}

/* Progress Tracking */
.progress-tracker {
  background-color: var(--color-background);
  border-radius: 12px;
  padding: var(--spacing-xl);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.progress-tracker__title {
  margin-bottom: var(--spacing-lg);
  color: var(--color-text-primary);
}

.progress-bar {
  background-color: var(--color-background-alt);
  border-radius: 20px;
  height: 20px;
  margin-bottom: var(--spacing-md);
  overflow: hidden;
}

.progress-bar__fill {
  height: 100%;
  background: linear-gradient(90deg, var(--color-accent), var(--color-primary));
  border-radius: 20px;
  transition: width var(--transition-slow);
}

.progress-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-sm) 0;
  border-bottom: 1px solid var(--color-border);
}

.progress-item:last-child {
  border-bottom: none;
}

.progress-item__status {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background-color: var(--color-accent);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-xs);
  font-weight: bold;
}

.progress-item__status--incomplete {
  background-color: var(--color-border);
}

/* Gamification Elements */
.badges {
  display: flex;
  gap: var(--spacing-lg);
  justify-content: center;
  flex-wrap: wrap;
  margin: var(--spacing-2xl) 0;
}

.badge {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-2xl);
  color: white;
  font-weight: bold;
  position: relative;
  transition: transform var(--transition-base);
}

.badge:hover {
  transform: scale(1.1);
}

.badge--gold {
  background: linear-gradient(135deg, var(--color-gold), #fbbf24);
}

.badge--silver {
  background: linear-gradient(135deg, var(--color-silver), #9ca3af);
}

.badge--bronze {
  background: linear-gradient(135deg, var(--color-bronze), #d97706);
}

.badge__tooltip {
  position: absolute;
  bottom: -30px;
  left: 50%;
  transform: translateX(-50%);
  background-color: var(--color-background-dark);
  color: white;
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: 4px;
  font-size: var(--font-size-xs);
  white-space: nowrap;
  opacity: 0;
  visibility: hidden;
  transition: all var(--transition-base);
}

.badge:hover .badge__tooltip {
  opacity: 1;
  visibility: visible;
}

/* Leaderboard */
.leaderboard {
  background-color: var(--color-background);
  border-radius: 12px;
  padding: var(--spacing-xl);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.leaderboard__title {
  text-align: center;
  margin-bottom: var(--spacing-lg);
  color: var(--color-text-primary);
}

.leaderboard__list {
  list-style: none;
}

.leaderboard__item {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-md);
  border-bottom: 1px solid var(--color-border);
  transition: background-color var(--transition-fast);
}

.leaderboard__item:hover {
  background-color: var(--color-background-alt);
}

.leaderboard__item:last-child {
  border-bottom: none;
}

.leaderboard__rank {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background-color: var(--color-primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: var(--font-size-sm);
}

.leaderboard__rank--first {
  background-color: var(--color-gold);
}

.leaderboard__rank--second {
  background-color: var(--color-silver);
}

.leaderboard__rank--third {
  background-color: var(--color-bronze);
}

.leaderboard__name {
  flex: 1;
  font-weight: 600;
  color: var(--color-text-primary);
}

.leaderboard__score {
  font-weight: bold;
  color: var(--color-primary);
}

/* Study Tips Carousel */
.carousel {
  position: relative;
  overflow: hidden;
  border-radius: 12px;
  background-color: var(--color-background);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.carousel__content {
  display: flex;
  transition: transform var(--transition-base);
}

.carousel__slide {
  min-width: 100%;
  padding: var(--spacing-xl);
  text-align: center;
}

.carousel__slide h3 {
  color: var(--color-primary);
  margin-bottom: var(--spacing-md);
}

.carousel__controls {
  position: absolute;
  bottom: var(--spacing-md);
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: var(--spacing-sm);
}

.carousel__dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--color-border);
  cursor: pointer;
  transition: background-color var(--transition-fast);
}

.carousel__dot--active {
  background-color: var(--color-primary);
}

/* Chatbot Widget */
.chatbot {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 350px;
  max-height: 500px;
  background-color: var(--color-background);
  border-radius: 12px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  z-index: var(--z-modal);
  transform: translateY(100px);
  opacity: 0;
  visibility: hidden;
  transition: all var(--transition-base);
}

.chatbot--active {
  transform: translateY(0);
  opacity: 1;
  visibility: visible;
}

.chatbot__header {
  background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
  color: white;
  padding: var(--spacing-md);
  border-radius: 12px 12px 0 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.chatbot__title {
  font-weight: 600;
  margin: 0;
}

.chatbot__close {
  background: none;
  border: none;
  color: white;
  font-size: var(--font-size-lg);
  cursor: pointer;
  padding: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.chatbot__messages {
  height: 300px;
  overflow-y: auto;
  padding: var(--spacing-md);
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.chatbot__message {
  max-width: 80%;
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: 18px;
  font-size: var(--font-size-sm);
  line-height: 1.4;
}

.chatbot__message--user {
  align-self: flex-end;
  background-color: var(--color-primary);
  color: white;
}

.chatbot__message--bot {
  align-self: flex-start;
  background-color: var(--color-background-alt);
  color: var(--color-text-primary);
}

.chatbot__input-area {
  display: flex;
  padding: var(--spacing-md);
  border-top: 1px solid var(--color-border);
}

.chatbot__input {
  flex: 1;
  border: 1px solid var(--color-border);
  border-radius: 20px;
  padding: var(--spacing-sm) var(--spacing-md);
  font-size: var(--font-size-sm);
  outline: none;
}

.chatbot__input:focus {
  border-color: var(--color-primary);
}

.chatbot__send {
  background-color: var(--color-primary);
  color: white;
  border: none;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  margin-left: var(--spacing-sm);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color var(--transition-fast);
}

.chatbot__send:hover {
  background-color: #1d4ed8;
}

.chatbot__toggle {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
  color: white;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  font-size: var(--font-size-xl);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  transition: all var(--transition-base);
  z-index: var(--z-modal);
}

.chatbot__toggle:hover {
  transform: scale(1.1);
}

/* Contact Form */
.contact-form {
  max-width: 600px;
  margin: 0 auto;
  background-color: var(--color-background);
  border-radius: 12px;
  padding: var(--spacing-xl);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.form__group {
  margin-bottom: var(--spacing-lg);
}

.form__label {
  display: block;
  margin-bottom: var(--spacing-sm);
  font-weight: 600;
  color: var(--color-text-primary);
}

.form__input,
.form__textarea {
  width: 100%;
  padding: var(--spacing-md);
  border: 2px solid var(--color-border);
  border-radius: 8px;
  font-size: var(--font-size-base);
  font-family: inherit;
  transition: border-color var(--transition-base);
}

.form__input:focus,
.form__textarea:focus {
  outline: none;
  border-color: var(--color-primary);
}

.form__textarea {
  min-height: 120px;
  resize: vertical;
}

.form__submit {
  width: 100%;
  background-color: var(--color-primary);
  color: white;
  padding: var(--spacing-md) var(--spacing-lg);
  border: none;
  border-radius: 8px;
  font-size: var(--font-size-lg);
  font-weight: 600;
  cursor: pointer;
  transition: background-color var(--transition-base);
}

.form__submit:hover,
.form__submit:focus {
  background-color: #1d4ed8;
}

/* Footer */
.footer {
  background-color: var(--color-background-dark);
  color: white;
  padding: var(--spacing-3xl) 0 var(--spacing-xl) 0;
}

.footer__content {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--spacing-2xl);
  margin-bottom: var(--spacing-2xl);
}

.footer__section h3 {
  color: white;
  margin-bottom: var(--spacing-lg);
}

.footer__links {
  list-style: none;
}

.footer__link {
  display: block;
  color: #9ca3af;
  padding: var(--spacing-xs) 0;
  transition: color var(--transition-fast);
}

.footer__link:hover,
.footer__link:focus {
  color: white;
  text-decoration: none;
}

.footer__bottom {
  text-align: center;
  padding-top: var(--spacing-xl);
  border-top: 1px solid var(--color-border-dark);
  color: #9ca3af;
}

/* Responsive Image */
.responsive-img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Utility Classes */
.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }

.mb-0 { margin-bottom: 0; }
.mb-1 { margin-bottom: var(--spacing-xs); }
.mb-2 { margin-bottom: var(--spacing-sm); }
.mb-3 { margin-bottom: var(--spacing-md); }
.mb-4 { margin-bottom: var(--spacing-lg); }
.mb-5 { margin-bottom: var(--spacing-xl); }

.visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* Loading States */
.loading {
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 2px solid var(--color-border);
  border-radius: 50%;
  border-top-color: var(--color-primary);
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Mobile-first responsive adjustments */
@media (max-width: 640px) {
  .chatbot {
    width: calc(100vw - 20px);
    right: 10px;
    left: 10px;
  }
  
  .nav__auth {
    flex-direction: column;
    gap: var(--spacing-xs);
  }
  
  .badges {
    gap: var(--spacing-md);
  }
  
  .badge {
    width: 60px;
    height: 60px;
    font-size: var(--font-size-lg);
  }
}
    </style>
</head>

<body>
    <!-- Fixed Header with Navigation -->
    <header class="header" role="banner">
        <div class="container">
            <nav class="nav" role="navigation" aria-label="Main navigation">
                <a href="#home" class="nav__brand" aria-label="Khmer Math - Home">
                    <div class="nav__brand-icon">គ</div>
                    <span>Khmer Math</span>
                </a>
                
                <ul class="nav__menu" role="menubar">
                    <li class="nav__item" role="none">
                        <a href="#home" class="nav__link nav__link--active" role="menuitem">ទំព័រដើម</a>
                    </li>
                    <li class="nav__item" role="none">
                        <a href="#grades" class="nav__link" role="menuitem" aria-haspopup="true">ថ្នាក់រៀន</a>
                        <div class="nav__dropdown" role="menu" aria-label="Grade levels">
                            <ul class="nav__dropdown-list">
                                <li class="nav__dropdown-item" role="none">
                                    <a href="#grade-7" class="nav__dropdown-link" role="menuitem">ថ្នាក់ទី៧</a>
                                </li>
                                <li class="nav__dropdown-item" role="none">
                                    <a href="#grade-8" class="nav__dropdown-link" role="menuitem">ថ្នាក់ទី៨</a>
                                </li>
                                <li class="nav__dropdown-item" role="none">
                                    <a href="#grade-9" class="nav__dropdown-link" role="menuitem">ថ្នាក់ទី៩</a>
                                </li>
                                <li class="nav__dropdown-item" role="none">
                                    <a href="#grade-10" class="nav__dropdown-link" role="menuitem">ថ្នាក់ទី១០</a>
                                </li>
                                <li class="nav__dropdown-item" role="none">
                                    <a href="#grade-11" class="nav__dropdown-link" role="menuitem">ថ្នាក់ទី១១</a>
                                </li>
                                <li class="nav__dropdown-item" role="none">
                                    <a href="#grade-12" class="nav__dropdown-link" role="menuitem">ថ្នាក់ទី១២</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav__item" role="none">
                        <a href="#quiz" class="nav__link" role="menuitem">លំហាត់ និង ការធ្វើតេស្ត</a>
                    </li>
                    <li class="nav__item" role="none">
                        <a href="#about" class="nav__link" role="menuitem">អំពីយើង</a>
                    </li>
                    <li class="nav__item" role="none">
                        <a href="#contact" class="nav__link" role="menuitem">ទំនាក់ទំនង</a>
                    </li>
                </ul>
                
                <div class="nav__auth">
                    <a href="#login" class="btn btn--outline" role="button">ចូលប្រើ</a>
                    <a href="#register" class="btn btn--primary" role="button">ចុះឈ្មោះ</a>
                </div>
                
                <button class="nav__mobile-toggle" aria-label="Toggle mobile menu" aria-expanded="false">
                    ☰
                </button>
            </nav>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="main">
        <!-- Hero Section -->
        <section id="home" class="hero">
            <div class="container">
                <div class="hero__content">
                    <h1 class="hero__title">គណិតវិទ្យាខ្មែរ</h1>
                    <p class="hero__subtitle">
                        រៀនគណិតវិទ្យាជាភាសាខ្មែរសម្រាប់ថ្នាក់ទី៧ ដល់ ថ្នាក់ទី១២ ជាមួយនឹងលំហាត់អន្តរកម្ម និងការតាមដានប្រសិទ្ធភាព
                    </p>
                    <a href="#grades" class="hero__cta">ចាប់ផ្តើមរៀន</a>
                </div>
            </div>
        </section>

        <!-- Grades Section -->
        <section id="grades" class="section">
            <div class="container">
                <h2 class="section__title">ជ្រើសរើសថ្នាក់រៀន</h2>
                <p class="section__subtitle">
                    ជ្រើសរើសថ្នាក់រៀនរបស់អ្នកដើម្បីចាប់ផ្តើមរៀនគណិតវិទ្យាជាមួយនឹងមាតិកាសមស្រប
                </p>
                
                <div class="grades">
                    <article class="grade-card" role="article">
                        <div class="grade-card__number">៧</div>
                        <h3 class="grade-card__title">ថ្នាក់ទី៧</h3>
                        <p class="grade-card__description">
                            ស្វែងយល់ពីបន្ទាត់លេខ រូបធរណីមាត្រ និងសមីការធម្មតា
                        </p>
                        <a href="#grade-7" class="btn btn--primary">ចាប់ផ្តើម</a>
                    </article>
                    
                    <article class="grade-card" role="article">
                        <div class="grade-card__number">៨</div>
                        <h3 class="grade-card__title">ថ្នាក់ទី៨</h3>
                        <p class="grade-card__description">
                            រៀនពីអាល្ហេប្រាមូលដ្ឋាន និងរូបធរណីមាត្រកម្រិតមធ្យម
                        </p>
                        <a href="#grade-8" class="btn btn--primary">ចាប់ផ្តើម</a>
                    </article>
                    
                    <article class="grade-card" role="article">
                        <div class="grade-card__number">៩</div>
                        <h3 class="grade-card__title">ថ្នាក់ទី៩</h3>
                        <p class="grade-card__description">
                            ស្វែងយល់ពីពហុធា សមីការប្រដាប់ និងផ្លូវកេង
                        </p>
                        <a href="#grade-9" class="btn btn--primary">ចាប់ផ្តើម</a>
                    </article>
                    
                    <article class="grade-card" role="article">
                        <div class="grade-card__number">១០</div>
                        <h3 class="grade-card__title">ថ្នាក់ទី១០</h3>
                        <p class="grade-card__description">
                            រៀនពីត្រីកោណមិតិ និងរូបវិទ្យាអាល់ហេប្រា
                        </p>
                        <a href="#grade-10" class="btn btn--primary">ចាប់ផ្តើម</a>
                    </article>
                    
                    <article class="grade-card" role="article">
                        <div class="grade-card__number">១១</div>
                        <h3 class="grade-card__title">ថ្នាក់ទី១១</h3>
                        <p class="grade-card__description">
                            ស្វែងយល់ពីកាល្គុយល៉ុស និងឧប្បត្តិវិធី
                        </p>
                        <a href="#grade-11" class="btn btn--primary">ចាប់ផ្តើម</a>
                    </article>
                    
                    <article class="grade-card" role="article">
                        <div class="grade-card__number">១២</div>
                        <h3 class="grade-card__title">ថ្នាក់ទី១២</h3>
                        <p class="grade-card__description">
                            គណិតវិទ្យាកម្រិតខ្ពស់ និងការត្រៀមប្រឡង
                        </p>
                        <a href="#grade-12" class="btn btn--primary">ចាប់ផ្តើម</a>
                    </article>
                </div>
            </div>
        </section>

        <!-- Quiz & Exercise Section -->
        <section id="quiz" class="section section--alt">
            <div class="container">
                <h2 class="section__title">លំហាត់ និង ការធ្វើតេស្ត</h2>
                <p class="section__subtitle">
                    ធ្វើតេស្តជំនាញគណិតវិទ្យារបស់អ្នក ជាមួយនឹងសំណួរអន្តរកម្ម
                </p>
                
                <div class="quiz">
                    <article class="quiz__question" role="article">
                        <h3 class="quiz__question-title">សំណួរទី១: គណនាតម្លៃនៃ x ក្នុងសមីការ 2x + 5 = 15</h3>
                        <form>
                            <ul class="quiz__options" role="group" aria-labelledby="question-1">
                                <li class="quiz__option">
                                    <label class="quiz__option-label">
                                        <input type="radio" name="q1" value="5" class="quiz__option-input">
                                        <span>A) x = 5</span>
                                    </label>
                                </li>
                                <li class="quiz__option">
                                    <label class="quiz__option-label">
                                        <input type="radio" name="q1" value="10" class="quiz__option-input">
                                        <span>B) x = 10</span>
                                    </label>
                                </li>
                                <li class="quiz__option">
                                    <label class="quiz__option-label">
                                        <input type="radio" name="q1" value="7" class="quiz__option-input">
                                        <span>C) x = 7</span>
                                    </label>
                                </li>
                                <li class="quiz__option">
                                    <label class="quiz__option-label">
                                        <input type="radio" name="q1" value="3" class="quiz__option-input">
                                        <span>D) x = 3</span>
                                    </label>
                                </li>
                            </ul>
                        </form>
                    </article>
                    
                    <article class="quiz__question" role="article">
                        <h3 class="quiz__question-title">សំណួរទី២: ផលលំដាប់នៃ 8² គឺ?</h3>
                        <form>
                            <ul class="quiz__options" role="group" aria-labelledby="question-2">
                                <li class="quiz__option">
                                    <label class="quiz__option-label">
                                        <input type="radio" name="q2" value="64" class="quiz__option-input">
                                        <span>A) 64</span>
                                    </label>
                                </li>
                                <li class="quiz__option">
                                    <label class="quiz__option-label">
                                        <input type="radio" name="q2" value="16" class="quiz__option-input">
                                        <span>B) 16</span>
                                    </label>
                                </li>
                                <li class="quiz__option">
                                    <label class="quiz__option-label">
                                        <input type="radio" name="q2" value="32" class="quiz__option-input">
                                        <span>C) 32</span>
                                    </label>
                                </li>
                                <li class="quiz__option">
                                    <label class="quiz__option-label">
                                        <input type="radio" name="q2" value="48" class="quiz__option-input">
                                        <span>D) 48</span>
                                    </label>
                                </li>
                            </ul>
                        </form>
                    </article>
                    
                    <div class="text-center">
                        <button type="button" class="btn btn--primary" id="submit-quiz">
                            ដាក់ស្នើរចម្លើយ
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Progress Tracking Section -->
        <section id="progress" class="section">
            <div class="container">
                <h2 class="section__title">ការតាមដានប្រសិទ្ធភាព</h2>
                
                <div class="grid">
                    <div class="grid__col grid__col--12 grid__col--md-8">
                        <div class="progress-tracker">
                            <h3 class="progress-tracker__title">ការរីកចម្រើនរបស់អ្នក</h3>
                            
                            <div class="mb-4">
                                <h4>ថ្នាក់ទី៩ - អាល្ហេប្រា</h4>
                                <div class="progress-bar">
                                    <div class="progress-bar__fill" style="width: 75%"></div>
                                </div>
                                <p>៧៥% ពេញលេញ</p>
                            </div>
                            
                            <div class="progress-items">
                                <div class="progress-item">
                                    <div class="progress-item__status">✓</div>
                                    <span>សមីការលីនេអ៊ែរ</span>
                                </div>
                                <div class="progress-item">
                                    <div class="progress-item__status">✓</div>
                                    <span>ប្រព័ន្ធសមីការ</span>
                                </div>
                                <div class="progress-item">
                                    <div class="progress-item__status">✓</div>
                                    <span>ពហុធា</span>
                                </div>
                                <div class="progress-item">
                                    <div class="progress-item__status progress-item__status--incomplete">4</div>
                                    <span>កម្រិតពីរ</span>
                                </div>
                                <div class="progress-item">
                                    <div class="progress-item__status progress-item__status--incomplete">5</div>
                                    <span>ការដាក់កត្តា</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid__col grid__col--12 grid__col--md-4">
                        <div class="leaderboard">
                            <h3 class="leaderboard__title">បញ្ជីកំពូល</h3>
                            <ul class="leaderboard__list">
                                <li class="leaderboard__item">
                                    <div class="leaderboard__rank leaderboard__rank--first">១</div>
                                    <div class="leaderboard__name">សុភា</div>
                                    <div class="leaderboard__score">២៨៥០</div>
                                </li>
                                <li class="leaderboard__item">
                                    <div class="leaderboard__rank leaderboard__rank--second">២</div>
                                    <div class="leaderboard__name">ដារា</div>
                                    <div class="leaderboard__score">២៦៣០</div>
                                </li>
                                <li class="leaderboard__item">
                                    <div class="leaderboard__rank leaderboard__rank--third">៣</div>
                                    <div class="leaderboard__name">សុខា</div>
                                    <div class="leaderboard__score">២៤២០</div>
                                </li>
                                <li class="leaderboard__item">
                                    <div class="leaderboard__rank">៤</div>
                                    <div class="leaderboard__name">ច័ន្ទ</div>
                                    <div class="leaderboard__score">២២១០</div>
                                </li>
                                <li class="leaderboard__item">
                                    <div class="leaderboard__rank">៥</div>
                                    <div class="leaderboard__name">អ្នក</div>
                                    <div class="leaderboard__score">២០៨០</div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- Gamification Badges -->
                <div class="badges">
                    <div class="badge badge--gold">
                        🏆
                        <div class="badge__tooltip">គណិតវិទ្យាមេ</div>
                    </div>
                    <div class="badge badge--silver">
                        🎯
                        <div class="badge__tooltip">អ្នកដោះស្រាយ</div>
                    </div>
                    <div class="badge badge--bronze">
                        📚
                        <div class="badge__tooltip">អ្នកសិក្សាឧស្សាហ៍</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Study Tips Carousel -->
        <section class="section section--alt">
            <div class="container">
                <h2 class="section__title">គន្លឹះសម្រាប់ការសិក្សា</h2>
                
                <div class="carousel" id="tips-carousel">
                    <div class="carousel__content">
                        <div class="carousel__slide">
                            <h3>គន្លឹះទី១: ការអនុវត្តជាប្រចាំ</h3>
                            <p>ធ្វើលំហាត់គណិតវិទ្យាពី១៥-៣០នាទីជារៀងរាល់ថ្ងៃ។ ការអនុវត្តជាប្រចាំនឹងជួយពង្រឹងការចងចាំ។</p>
                        </div>
                        <div class="carousel__slide">
                            <h3>គន្លឹះទី២: ការយល់ដឹងជាងការចងចាំ</h3>
                            <p>មុននឹងចងចាំរូបមន្ត សូមយល់ដឹងពីហេតុផលនៃការគណនានោះ។ នេះនឹងជួយអ្នកដោះស្រាយបញ្ហាថ្មី។</p>
                        </div>
                        <div class="carousel__slide">
                            <h3>គន្លឹះទី៣: ការសម្រាកសម្រាលសារី</h3>
                            <p>កុំសិក្សាដោយហត់ហើយ។ សម្រាក១០នាទីរៀងរាល់៤៥នាទីនឹងជួយអ្នកកំណត់សមាធិ។</p>
                        </div>
                    </div>
                    <div class="carousel__controls">
                        <div class="carousel__dot carousel__dot--active" data-slide="0"></div>
                        <div class="carousel__dot" data-slide="1"></div>
                        <div class="carousel__dot" data-slide="2"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Us Section -->
        <section id="about" class="section">
            <div class="container">
                <h2 class="section__title">អំពីយើង</h2>
                <div class="grid">
                    <div class="grid__col grid__col--12 grid__col--md-6">
                        <img src="https://picsum.photos/600/400?random=2" 
                             alt="Khmer Math education team working together" 
                             class="responsive-img"
                             loading="lazy">
                    </div>
                    <div class="grid__col grid__col--12 grid__col--md-6">
                        <h3>បេសកកម្មរបស់យើង</h3>
                        <p>
                            យើងមានគោលបំណងធ្វើឱ្យការរៀនគណិតវិទ្យាជាភាសាខ្មែរកាន់តែងាយស្រួល និងគួរឱ្យចាប់អារម្មណ៍។ 
                            ដោយប្រើប្រាស់បច្ចេកវិទ្យាទំនើប យើងបង្កើតបទពិសោធន៍សិក្សាដ៏ពិសេសសម្រាប់សិស្សខ្មែរ។
                        </p>
                        <h3>ការប្តេជ្ញាចិត្តរបស់យើង</h3>
                        <ul>
                            <li>✅ មាតិកាសម្រាប់ថ្នាក់ទី៧ ដល់ ថ្នាក់ទី១២</li>
                            <li>✅ លំហាត់អន្តរកម្ម និងការធ្វើតេស្ត</li>
                            <li>✅ ការតាមដានការរីកចម្រើន</li>
                            <li>✅ ជំនួយពី AI ជាភាសាខ្មែរ</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="section section--alt">
            <div class="container">
                <h2 class="section__title">ទំនាក់ទំនង</h2>
                <p class="section__subtitle">
                    មានសំណួរ ឬត្រូវការជំនួយ? សូមទាក់ទងមកយើងខ្ញុំ
                </p>
                
                <form class="contact-form" action="#" method="post">
                    <div class="form__group">
                        <label for="contact-name" class="form__label">ឈ្មោះពេញ *</label>
                        <input type="text" 
                               id="contact-name" 
                               name="name" 
                               class="form__input" 
                               required 
                               aria-describedby="name-help">
                    </div>

                    <div class="form__group">
                        <label for="contact-email" class="form__label">អ៊ីមែល *</label>
                        <input type="email" 
                               id="contact-email" 
                               name="email" 
                               class="form__input" 
                               required 
                               aria-describedby="email-help">
                    </div>

                    <div class="form__group">
                        <label for="contact-subject" class="form__label">ប្រធានបទ</label>
                        <input type="text" 
                               id="contact-subject" 
                               name="subject" 
                               class="form__input">
                    </div>

                    <div class="form__group">
                        <label for="contact-message" class="form__label">សារ *</label>
                        <textarea id="contact-message" 
                                  name="message" 
                                  class="form__textarea" 
                                  required 
                                  placeholder="សូមសរសេរសាររបស់អ្នកនៅទីនេះ..."></textarea>
                    </div>

                    <button type="submit" class="form__submit">
                        ផ្ញើសារ
                    </button>
                </form>
            </div>
        </section>

        <!-- Login Section (Modal Content) -->
        <section id="login" class="section" style="display: none;">
            <div class="container">
                <h2 class="section__title">ចូលប្រើប្រាស់</h2>
                <form class="contact-form" action="#" method="post">
                    <div class="form__group">
                        <label for="login-email" class="form__label">អ៊ីមែល</label>
                        <input type="email" id="login-email" name="email" class="form__input" required>
                    </div>
                    <div class="form__group">
                        <label for="login-password" class="form__label">ពាក្យសម្ងាត់</label>
                        <input type="password" id="login-password" name="password" class="form__input" required>
                    </div>
                    <button type="submit" class="form__submit">ចូលប្រើ</button>
                </form>
            </div>
        </section>

        <!-- Register Section (Modal Content) -->
        <section id="register" class="section" style="display: none;">
            <div class="container">
                <h2 class="section__title">ចុះឈ្មោះ</h2>
                <form class="contact-form" action="#" method="post">
                    <div class="form__group">
                        <label for="register-name" class="form__label">ឈ្មោះពេញ</label>
                        <input type="text" id="register-name" name="name" class="form__input" required>
                    </div>
                    <div class="form__group">
                        <label for="register-email" class="form__label">អ៊ីមែល</label>
                        <input type="email" id="register-email" name="email" class="form__input" required>
                    </div>
                    <div class="form__group">
                        <label for="register-password" class="form__label">ពាក្យសម្ងាត់</label>
                        <input type="password" id="register-password" name="password" class="form__input" required>
                    </div>
                    <div class="form__group">
                        <label for="register-grade" class="form__label">ថ្នាក់រៀន</label>
                        <select id="register-grade" name="grade" class="form__input" required>
                            <option value="">ជ្រើសរើសថ្នាក់</option>
                            <option value="7">ថ្នាក់ទី៧</option>
                            <option value="8">ថ្នាក់ទី៨</option>
                            <option value="9">ថ្នាក់ទី៩</option>
                            <option value="10">ថ្នាក់ទី១០</option>
                            <option value="11">ថ្នាក់ទី១១</option>
                            <option value="12">ថ្នាក់ទី១២</option>
                        </select>
                    </div>
                    <button type="submit" class="form__submit">ចុះឈ្មោះ</button>
                </form>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="footer__content">
                <div class="footer__section">
                    <h3>គណិតវិទ្យាខ្មែរ</h3>
                    <p>ការរៀនគណិតវិទ្យាជាភាសាខ្មែរ ងាយស្រួល និងគួរឱ្យចាប់អារម្មណ៍</p>
                </div>
                <div class="footer__section">
                    <h3>ការតភ្ជាប់រហ័ស</h3>
                    <ul class="footer__links">
                        <li><a href="#home" class="footer__link">ទំព័រដើម</a></li>
                        <li><a href="#grades" class="footer__link">ថ្នាក់រៀន</a></li>
                        <li><a href="#quiz" class="footer__link">លំហាត់</a></li>
                        <li><a href="#about" class="footer__link">អំពីយើង</a></li>
                    </ul>
                </div>
                <div class="footer__section">
                    <h3>ជំនួយ</h3>
                    <ul class="footer__links">
                        <li><a href="#contact" class="footer__link">ទំនាក់ទំនង</a></li>
                        <li><a href="#" class="footer__link">FAQ</a></li>
                        <li><a href="#" class="footer__link">គាំទ្របច្ចេកទេស</a></li>
                        <li><a href="#" class="footer__link">ការកែប្រែ</a></li>
                    </ul>
                </div>
                <div class="footer__section">
                    <h3>អាកប្បកិរិយា</h3>
                    <ul class="footer__links">
                        <li><a href="#" class="footer__link">គោលនយោបាយភាពឯកជន</a></li>
                        <li><a href="#" class="footer__link">លក្ខខណ្ឌសេវា</a></li>
                        <li><a href="#" class="footer__link">អំពី Cookie</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer__bottom">
                <p>&copy; ២០២៥ គណិតវិទ្យាខ្មែរ។ រក្សាសិទ្ធិគ្រប់យ៉ាង។</p>
            </div>
        </div>
    </footer>

    <!-- Chatbot Widget -->
    <div class="chatbot" id="chatbot" role="dialog" aria-labelledby="chatbot-title" aria-hidden="true">
        <div class="chatbot__header">
            <h3 class="chatbot__title" id="chatbot-title">ជំនួយការ AI</h3>
            <button class="chatbot__close" id="chatbot-close" aria-label="Close chatbot">×</button>
        </div>
        <div class="chatbot__messages" id="chatbot-messages" role="log" aria-live="polite">
            <div class="chatbot__message chatbot__message--bot">
                សួស្តី! ខ្ញុំជាជំនួយការ AI សម្រាប់គណិតវិទ្យា។ តើអ្នកត្រូវការជំនួយអ្វី?
            </div>
        </div>
        <div class="chatbot__input-area">
            <input type="text" 
                   class="chatbot__input" 
                   id="chatbot-input" 
                   placeholder="សរសេរសំណួររបស់អ្នក..."
                   aria-label="Type your message">
            <button class="chatbot__send" 
                    id="chatbot-send" 
                    aria-label="Send message">
                ➤
            </button>
        </div>
    </div>

    <button class="chatbot__toggle" 
            id="chatbot-toggle" 
            aria-label="Open chatbot"
            aria-expanded="false">
        💬
    </button>

    <!-- JavaScript for Interactive Features -->
    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Chatbot functionality
        class ChatBot {
            constructor() {
                this.chatbot = document.getElementById('chatbot');
                this.toggle = document.getElementById('chatbot-toggle');
                this.close = document.getElementById('chatbot-close');
                this.input = document.getElementById('chatbot-input');
                this.send = document.getElementById('chatbot-send');
                this.messages = document.getElementById('chatbot-messages');
                this.isOpen = false;
                
                this.initEventListeners();
            }
            
            initEventListeners() {
                this.toggle.addEventListener('click', () => this.toggleChat());
                this.close.addEventListener('click', () => this.closeChat());
                this.send.addEventListener('click', () => this.sendMessage());
                this.input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.sendMessage();
                });
            }
            
            toggleChat() {
                this.isOpen = !this.isOpen;
                this.chatbot.classList.toggle('chatbot--active', this.isOpen);
                this.toggle.setAttribute('aria-expanded', this.isOpen);
                this.chatbot.setAttribute('aria-hidden', !this.isOpen);
                
                if (this.isOpen) {
                    this.input.focus();
                }
            }
            
            closeChat() {
                this.isOpen = false;
                this.chatbot.classList.remove('chatbot--active');
                this.toggle.setAttribute('aria-expanded', false);
                this.chatbot.setAttribute('aria-hidden', true);
            }
            
            sendMessage() {
                const message = this.input.value.trim();
                if (!message) return;
                
                // Add user message
                this.addMessage(message, 'user');
                this.input.value = '';
                
                // Show typing indicator
                this.showTypingIndicator();
                
                // Simulate API call (replace with actual OpenAI API call)
                this.simulateAPIResponse(message);
            }
            
            addMessage(message, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `chatbot__message chatbot__message--${sender}`;
                messageDiv.textContent = message;
                
                this.messages.appendChild(messageDiv);
                this.messages.scrollTop = this.messages.scrollHeight;
            }
            
            showTypingIndicator() {
                const typingDiv = document.createElement('div');
                typingDiv.className = 'chatbot__message chatbot__message--bot';
                typingDiv.innerHTML = '<div class="loading"></div>';
                typingDiv.id = 'typing-indicator';
                
                this.messages.appendChild(typingDiv);
                this.messages.scrollTop = this.messages.scrollHeight;
            }
            
            removeTypingIndicator() {
                const indicator = document.getElementById('typing-indicator');
                if (indicator) {
                    indicator.remove();
                }
            }
            
            simulateAPIResponse(userMessage) {
                // Simulate API delay
                setTimeout(() => {
                    this.removeTypingIndicator();
                    
                    // Simple response logic (replace with actual OpenAI API call)
                    let response = this.generateResponse(userMessage);
                    this.addMessage(response, 'bot');
                }, 1500);
            }
            
            generateResponse(message) {
                // Simple rule-based responses (replace with OpenAI API)
                const responses = {
                    'សមីការ': 'សមីការគឺជាសេចក្តីថ្លែងមួយដែលបង្ហាញថាតម្លៃពីរសមគ្នា។ តើអ្នកត្រូវការជំនួយលើសមីការណាមួយ?',
                    'ពហុធា': 'ពហុធាគឺជាកន្សោមនៃបណ្តាអថេរ ថេរលេខ និងឃោស។ តើអ្នកចង់រៀនពីការបូកដក ការគុណ ឬការចែកពហុធា?',
                    'ត្រីកោណមិតិ': 'ត្រីកោណមិតិសិក្សាពីទំនាក់ទំនងរវាងមុំ និងចំហៀងនៅក្នុងត្រីកោណ។ តើអ្នកត្រូវការជំនួយលើ sin, cos, ឬ tan?',
                    'default': 'ខ្ញុំយល់ហើយ។ តើអ្នកអាចសួរជាក់លាក់បន្តិចទៀតបានទេ? ឧទាហរណ៍ អំពីសមីការ ពហុធា ឬរូបធរណីមាត្រ?'
                };
                
                // Check for keywords
                for (let keyword in responses) {
                    if (message.includes(keyword) && keyword !== 'default') {
                        return responses[keyword];
                    }
                }
                
                return responses.default;
            }
            
            // Method to integrate with actual OpenAI API
            async callOpenAI(message) {
                try {
                    // Replace with your actual OpenAI API key and endpoint
                    const response = await fetch('https://api.openai.com/v1/chat/completions', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': 'Bearer YOUR_API_KEY_HERE'
                        },
                        body: JSON.stringify({
                            model: 'gpt-3.5-turbo',
                            messages: [
                                {
                                    role: 'system', 
                                    content: 'You are a helpful mathematics tutor for Khmer students. Answer in Khmer language and explain concepts clearly.'
                                },
                                {
                                    role: 'user', 
                                    content: message
                                }
                            ],
                            max_tokens: 150
                        })
                    });
                    
                    const data = await response.json();
                    return data.choices[0].message.content;
                    
                } catch (error) {
                    console.error('OpenAI API Error:', error);
                    return 'សូមអភ័យទោស មានបញ្ហាបច្ចេកទេស។ សូមព្យាយាមម្តងទៀត។';
                }
            }
        }

        // Study Tips Carousel
        class Carousel {
            constructor(element) {
                this.carousel = element;
                this.content = element.querySelector('.carousel__content');
                this.slides = element.querySelectorAll('.carousel__slide');
                this.dots = element.querySelectorAll('.carousel__dot');
                this.currentSlide = 0;
                this.totalSlides = this.slides.length;
                
                this.initEventListeners();
                this.autoPlay();
            }
            
            initEventListeners() {
                this.dots.forEach((dot, index) => {
                    dot.addEventListener('click', () => this.goToSlide(index));
                });
            }
            
            goToSlide(index) {
                this.currentSlide = index;
                this.content.style.transform = `translateX(-${index * 100}%)`;
                
                // Update dots
                this.dots.forEach((dot, i) => {
                    dot.classList.toggle('carousel__dot--active', i === index);
                });
            }
            
            nextSlide() {
                this.currentSlide = (this.currentSlide + 1) % this.totalSlides;
                this.goToSlide(this.currentSlide);
            }
            
            autoPlay() {
                setInterval(() => {
                    this.nextSlide();
                }, 5000); // Change slide every 5 seconds
            }
        }

        // Quiz functionality
        class QuizManager {
            constructor() {
                this.submitButton = document.getElementById('submit-quiz');
                this.questions = document.querySelectorAll('.quiz__question');
                
                this.initEventListeners();
            }
            
            initEventListeners() {
                if (this.submitButton) {
                    this.submitButton.addEventListener('click', () => this.submitQuiz());
                }
            }
            
            submitQuiz() {
                const answers = this.getAnswers();
                const score = this.calculateScore(answers);
                this.displayResults(score);
            }
            

            getAnswers() {
                const answers = {};
                this.questions.forEach((question, index) => {
                    const selectedOption = question.querySelector('input[type="radio"]:checked');
                    if (selectedOption) {
                        answers[`q${index + 1}`] = selectedOption.value;
                    }
                });
                return answers;
            }
            
            calculateScore(answers) {
                // Correct answers (you can modify these)
                const correctAnswers = {
                    'q1': '5',  // 2x + 5 = 15, so x = 5
                    'q2': '64'  // 8² = 64
                };
                
                let score = 0;
                Object.keys(correctAnswers).forEach(key => {
                    if (answers[key] === correctAnswers[key]) {
                        score++;
                    }
                });
                
                return {
                    correct: score,
                    total: Object.keys(correctAnswers).length,
                    percentage: Math.round((score / Object.keys(correctAnswers).length) * 100)
                };
            }
            
            displayResults(score) {
                const resultMessage = `អ្នកទទួលបាន ${score.correct}/${score.total} (${score.percentage}%)`;
                
                // Create result display
                const resultDiv = document.createElement('div');
                resultDiv.className = 'quiz-result';
                resultDiv.style.cssText = `
                    background-color: var(--color-accent);
                    color: white;
                    padding: var(--spacing-lg);
                    border-radius: 8px;
                    margin-top: var(--spacing-lg);
                    text-align: center;
                    font-weight: bold;
                `;
                resultDiv.textContent = resultMessage;
                
                // Add result after submit button
                this.submitButton.parentNode.appendChild(resultDiv);
                
                // Disable submit button
                this.submitButton.disabled = true;
                this.submitButton.textContent = 'បានដាក់ស្នើរ';
                
                // Update progress (simulate)
                this.updateProgress(score.percentage);
            }
            
            updateProgress(percentage) {
                // Simulate progress update
                console.log(`Progress updated: ${percentage}%`);
            }
        }

        // Initialize all components when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize chatbot
            new ChatBot();
            
            // Initialize carousel
            const carouselElement = document.getElementById('tips-carousel');
            if (carouselElement) {
                new Carousel(carouselElement);
            }
            
            // Initialize quiz
            new QuizManager();
            
            // Handle active navigation states
            function updateActiveNavigation() {
                const sections = document.querySelectorAll('section[id]');
                const navLinks = document.querySelectorAll('.nav__link[href^="#"]');
                
                let currentSection = '';
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop - 100; // Account for fixed header
                    const sectionHeight = section.offsetHeight;
                    
                    if (window.scrollY >= sectionTop && window.scrollY < sectionTop + sectionHeight) {
                        currentSection = section.getAttribute('id');
                    }
                });
                
                navLinks.forEach(link => {
                    link.classList.remove('nav__link--active');
                    if (link.getAttribute('href') === `#${currentSection}`) {
                        link.classList.add('nav__link--active');
                    }
                });
            }
            
            // Update navigation on scroll
            window.addEventListener('scroll', updateActiveNavigation);
            
            // Handle form submissions
            document.querySelectorAll('form').forEach(form => {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Simulate form submission
                    const submitBtn = form.querySelector('button[type="submit"]');
                    const originalText = submitBtn.textContent;
                    
                    submitBtn.disabled = true;
                    submitBtn.innerHTML = '<div class="loading"></div>';
                    
                    setTimeout(() => {
                        submitBtn.disabled = false;
                        submitBtn.textContent = originalText;
                        
                        // Show success message
                        const successMsg = document.createElement('div');
                        successMsg.style.cssText = `
                            background-color: var(--color-accent);
                            color: white;
                            padding: var(--spacing-md);
                            border-radius: 8px;
                            margin-top: var(--spacing-md);
                            text-align: center;
                        `;
                        successMsg.textContent = 'ការដាក់ស្នើបានជោគជ័យ!';
                        
                        form.appendChild(successMsg);
                        
                        setTimeout(() => {
                            successMsg.remove();
                        }, 3000);
                    }, 2000);
                });
            });
        });

        // Service Worker for offline capabilities (optional)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('SW registered: ', registration);
                    })
                    .catch(function(registrationError) {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>

    <!--
    ===========================================
    BUILD CONFIGURATION AND DOCUMENTATION
    ===========================================
    
    package.json:
    {
      "name": "khmer-math-spa",
      "version": "1.0.0",
      "description": "Khmer Math Educational Platform - Single Page Application",
      "main": "index.html",
      "scripts": {
        "build": "sass --watch src/scss:dist/css --style compressed",
        "build-dev": "sass --watch src/scss:dist/css --style expanded --source-map",
        "serve": "npx http-server dist -p 3000",
        "start": "npm run build & npm run serve"
      },
      "keywords": [
        "khmer",
        "math",
        "education",
        "sass",
        "responsive",
        "spa"
      ],
      "author": "Khmer Math Team",
      "license": "MIT",
      "devDependencies": {
        "sass": "^1.69.0",
        "http-server": "^14.1.1"
      }
    }

    ===========================================
    FOLDER STRUCTURE
    ===========================================
    
    project-root/
    ├── src/
    │   └── scss/
    │       ├── _variables.scss    // Design system variables and color palette
    │       ├── _mixins.scss       // Media queries and utility mixins
    │       ├── _grid.scss         // 12-column responsive grid system
    │       ├── _components.scss   // Reusable component styles
    │       └── main.scss          // Main import file and compiled styles
    ├── dist/
    │   ├── index.html            // This HTML file
    │   └── css/
    │       └── main.css          // Compiled Sass output
    ├── assets/
    │   └── images/               // Placeholder for local images
    ├── package.json              // Build scripts and dependencies
    ├── README.md                 // Setup and usage instructions
    └── .gitignore               // Version control exclusions

    ===========================================
    README.md CONTENT
    ===========================================
    
    # គណិតវិទ្យាខ្មែរ (Khmer Math) - Educational Platform

    A comprehensive, responsive single-page educational platform for teaching mathematics in the Khmer language, designed for students in grades 7-12.

    ## ✨ Features

    ### 📚 Educational Content
    - **Grade-specific content** for levels 7-12
    - **Interactive quizzes** with immediate feedback
    - **Progress tracking** with visual indicators
    - **Study tips carousel** with helpful learning strategies

    ### 🎮 Gamification
    - **Achievement badges** (Gold, Silver, Bronze)
    - **Leaderboard system** with scoring
    - **Progress visualization** with completion tracking

    ### 🤖 AI Integration
    - **Chatbot widget** with OpenAI API integration
    - **Khmer language support** for mathematical concepts
    - **Real-time help** and tutoring assistance

    ### 📱 Responsive Design
    - **Mobile-first approach** with breakpoints at 768px and 1024px
    - **12-column flexbox grid** system
    - **Semantic HTML5** structure throughout
    - **WCAG AA accessibility** compliance

    ## 🚀 Quick Start

    ### Prerequisites
    - Node.js (v14 or higher)
    - npm or yarn package manager

    ### Installation

    1. **Clone the repository:**
       ```bash
       git clone <repository-url>
       cd khmer-math-spa
       ```

    2. **Install dependencies:**
       ```bash
       npm install
       ```

    3. **Build and watch Sass files:**
       ```bash
       npm run build
       ```

    4. **Serve the application locally:**
       ```bash
       npm run serve
       ```

    5. **Open your browser:**
       Navigate to `http://localhost:3000`

    ### Development Workflow

    **For development with source maps:**
    ```bash
    npm run build-dev
    ```

    **To start both build watch and local server:**
    ```bash
    npm start
    ```

    ## 🏗️ Architecture

    ### Sass Structure
    ```
    src/scss/
    ├── _variables.scss    # Design system variables
    ├── _mixins.scss       # Responsive utilities
    ├── _grid.scss         # Flexbox grid system
    ├── _components.scss   # Reusable components
    └── main.scss          # Main compilation file
    ```

    ### Key Design Principles
    - **BEM methodology** for class naming (`.block__element--modifier`)
    - **Mobile-first responsive design** with progressive enhancement
    - **Semantic HTML5** elements for accessibility
    - **CSS Custom Properties** for consistent theming
    - **Smooth animations** and transitions for better UX

    ## 🎨 Customization

    ### Color Palette
    Modify colors in `src/scss/_variables.scss`:
    ```scss
    :root {
      --color-primary: #1e40af;      // Main brand color
      --color-secondary: #dc2626;    // Khmer cultural red
      --color-accent: #059669;       // Success green
      // ... more variables
    }
    ```

    ### Breakpoints
    Responsive breakpoints are defined as:
    - **Mobile:** 0px - 639px
    - **Tablet:** 640px - 1023px  
    - **Desktop:** 1024px and up

    ### Grid System
    Use the 12-column grid with classes:
    ```html
    <div class="grid">
      <div class="grid__col grid__col--12 grid__col--md-6 grid__col--lg-4">
        Content
      </div>
    </div>
    ```

    ## 🤖 Chatbot Integration

    ### OpenAI API Setup
    1. **Get API key** from OpenAI platform
    2. **Replace placeholder** in JavaScript:
       ```javascript
       'Authorization': 'Bearer YOUR_ACTUAL_API_KEY'
       ```
    3. **Configure system prompt** for Khmer mathematics tutoring

    ### Customizing Bot Responses
    Modify the `generateResponse()` method in the ChatBot class to add more mathematical concepts and Khmer language support.

    ## 📊 Performance Optimization

    ### CSS Optimization
    - **Compressed Sass output** for production
    - **CSS Custom Properties** for runtime theming
    - **Minimal external dependencies**

    ### Image Optimization
    - **Lazy loading** implemented for performance
    - **Placeholder images** from Picsum for development
    - **Responsive images** with proper sizing

    ## ♿ Accessibility

    ### Features Implemented
    - **Semantic HTML5** structure
    - **ARIA labels** and roles
    - **Keyboard navigation** support
    - **Screen reader** compatibility
    - **Color contrast** meeting WCAG AA standards
    - **Focus management** for interactive elements

    ## 🌐 Browser Support

    ### Supported Browsers
    - **Chrome/Edge:** 90+
    - **Firefox:** 88+
    - **Safari:** 14+
    - **Mobile browsers** with modern CSS support

    ### Required Features
    - CSS Grid and Flexbox
    - CSS Custom Properties
    - ES6 JavaScript features
    - Fetch API for chatbot functionality

    ## 🔧 Troubleshooting

    ### Common Issues

    **Sass compilation errors:**
    - Ensure all partial files start with underscore
    - Check for syntax errors in SCSS files
    - Verify @import statements are correct

    **Local server not starting:**
    - Check if port 3000 is available
    - Try alternative port: `npx http-server dist -p 8080`

    **Chatbot not responding:**
    - Verify OpenAI API key is valid
    - Check browser console for network errors
    - Ensure API quotas are not exceeded

    ## 📝 Contributing

    1. **Fork the repository**
    2. **Create feature branch:** `git checkout -b feature/amazing-feature`
    3. **Commit changes:** `git commit -m 'Add amazing feature'`
    4. **Push to branch:** `git push origin feature/amazing-feature`
    5. **Open Pull Request**

    ## 📄 License

    This project is licensed under the MIT License - see the LICENSE file for details.

    ## 🙏 Acknowledgments

    - **Noto Sans Khmer** font for proper Khmer text rendering
    - **OpenAI** for AI-powered tutoring capabilities  
    - **Picsum** for development placeholder images
    - **Khmer education community** for guidance and feedback

    ---

    **Built with ❤️ for Khmer students learning mathematics**
    -->
</body>
</html>